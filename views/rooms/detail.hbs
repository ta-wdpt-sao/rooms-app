<div class="container py-5">
    {{#with room}}

        <h1>{{name}} <span class="badge badge-secondary">{{rating}}</span></h1>
        <hr class="my-4" />

        {{#if imageUrl}}
            <p>
                <img src="{{imageUrl}}" alt="{{name}} picture" width="100%"></span>
            </p>
        {{/if}}

        <p>{{description}}</p>

        <div id="map"></div>

        <input type="hidden" class="map-marker" data-lat="{{location.coordinates.[1]}}" data-lng="{{location.coordinates.[0]}}">

        <hr class="my-4" />

        <div class="jumbotron py-4">
            <h2>Add a review</h2>

            {{#if ../currentUser}}
                <form action="/reviews/add" method="POST">
                    <input type="hidden" name="roomId" value="{{_id}}" />

                    <div class="form-group">
                        <label for="rating">Rating:</label>
                        <select class="form-control" type="text" id="rating" name="rating">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="comment">Comments:</label>
                        <textarea class="form-control" type="text" id="comment" name="comment"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">add review</button>
                </form>
            {{else}}
                <a href="/login">Login</a> to add a review.
            {{/if}}
        </div>

        {{#if reviews}}
            <hr class="my-4" />

            <h2>Reviews</h2>
            {{#each reviews}}
                <div class="card mt-2">
                    <div class="card-body">
                        <span class="badge badge-secondary">{{rating}}</span>
                        <p class="card-text">{{comment}}</p>
                        <em class="text-muted">{{user.fullName}}</em>
                    </div>
                </div>
            {{/each}}
        {{/if}}

    {{/with}}
</div>
